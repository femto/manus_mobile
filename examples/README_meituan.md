# 美团购买咖啡自动化示例

这个目录包含了使用 `manus_mobile` 框架自动化美团 APP 购买咖啡的示例脚本。这些示例展示了如何使用 AI 驱动的移动设备自动化技术来操作真实的移动应用。

## 准备工作

在运行这些示例之前，请确保：

1. 已安装 `manus_mobile` 库（可通过主目录中的 `install.sh` 脚本安装）
2. 已通过 ADB 连接 Android 设备（真机或模拟器）
3. 已在设备上安装美团 APP（版本 12.31.201 或兼容版本）
4. 美团 APP 已登录账号（部分操作需要登录状态）

## 安装美团 APP

如果您尚未安装美团 APP，可以使用以下命令：

```bash
adb install -r /path/to/meituan-12-31-201.apk
```

## 示例脚本说明

### 1. 基础版 - meituan_coffee.py

最简单的实现，只提供基本的任务描述给 AI 代理。适合快速测试框架的基本功能。

```bash
python examples/meituan_coffee.py
```

### 2. 高级版 - meituan_coffee_advanced.py

提供了更多美团 APP 的上下文信息，包括包名、活动名和设备信息检查。这个版本增加了任务的可靠性和成功率。

```bash
python examples/meituan_coffee_advanced.py
```

### 3. AI 辅助版 - meituan_coffee_ai_assisted.py

最完整的实现，包含 UI 元素分析和详细的界面导航指南。这个版本通过实时分析美团界面来提供更精确的导航指令，大幅提高了自动化的成功率。

```bash
python examples/meituan_coffee_ai_assisted.py
```

## 功能对比

| 功能 | 基础版 | 高级版 | AI 辅助版 |
|------|-------|-------|----------|
| 基本任务执行 | ✅ | ✅ | ✅ |
| 设备检查 | ❌ | ✅ | ✅ |
| APP 安装检查 | ❌ | ✅ | ✅ |
| 详细任务说明 | ❌ | ✅ | ✅ |
| UI 元素分析 | ❌ | ❌ | ✅ |
| 截图保存 | ❌ | ❌ | ✅ |
| 错误处理 | 基础 | 增强 | 全面 |

## 注意事项

- 这些脚本不会完成实际的支付操作，它们会在订单确认页面停止
- 运行过程中可能需要手动处理登录、位置授权等操作
- 由于美团 APP 界面可能随版本更新而变化，脚本可能需要相应调整
- 建议在测试环境中运行，避免意外产生真实订单

## 自定义

您可以修改脚本中的任务描述来自动化其他操作，例如：

- 修改咖啡种类或规格
- 选择不同的商家或产品
- 添加其他自动化步骤（如保存地址等）

请根据您的需求调整脚本中的 `task` 变量内容。

## 故障排除

如果遇到问题，请检查：

1. 设备连接状态（`adb devices`）
2. 美团 APP 是否已安装并且版本兼容
3. 网络连接是否正常
4. ADB 服务是否正常运行（可尝试 `adb kill-server` 然后 `adb start-server`）

## 贡献

欢迎提交 Pull Request 来改进这些示例或添加新的自动化场景！ 